(window["webpackJsonpdemo-react"]=window["webpackJsonpdemo-react"]||[]).push([[0],{125:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},133:function(e,t,a){},134:function(e,t){String.prototype.toProperCase=function(){return this.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};var a=fetch;window.fetch=function(){var e=new Event("fetchStart",{view:document,bubbles:!0,cancelable:!1}),t=new Event("fetchEnd",{view:document,bubbles:!0,cancelable:!1}),n=a.apply(this,arguments);return document.dispatchEvent(e),n.then((function(){document.dispatchEvent(t)})).catch((function(){document.dispatchEvent(t)})),n},document.addEventListener("fetchStart",(function(){var e=document.getElementById("loading");e.classList.remove("invisible"),e.classList.add("visible")})),document.addEventListener("fetchEnd",(function(){var e=document.getElementById("loading");e.classList.remove("visible"),e.classList.add("invisible")}))},135:function(e,t,a){"use strict";a.r(t);a(63);var n=a(1),r=a.n(n),o=a(7),c=a.n(o),s=a(15),i=a(16),l=a(18),u=a(17),d=a(8),m=a(19),p=a(171),f=a(163),h=a(164),v=a(165),b=a(166),y=a(167),g=a(168),E=a(169),w=a(170),x=a(159),k=a(156),O=a(6),N=a.n(O),j=a(10),S=a(32),C=a.n(S),I=a(55),T=a.n(I),B=a(56),L=a.n(B),F=a(39),R=a.n(F),A=a(57);function z(e){var t={vertex:"nodes",edge:"edges"},a={_id:"id",_from:"source",_to:"target"},n={},r=!0,o=!1,c=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var l=s.value,u=t[l.type];n[u]=[];var d=!0,m=!1,p=void 0;try{for(var f,h=l.nodes[Symbol.iterator]();!(d=(f=h.next()).done);d=!0){var v=f.value,b={};for(var y in v)b[a[y]||y]=v[y];n[u].push({data:b})}}catch(g){m=!0,p=g}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}}}catch(g){o=!0,c=g}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}function P(e){return{"x-session-id":e,"Content-Type":"application/json"}}var D=function(){var e=Object(j.a)(N.a.mark((function e(t,a,n,r){var o,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new URL("".concat(document.location.origin,"/api/show"))).search=new URLSearchParams(Object.assign(n?{timestamp:n}:{},r)),e.next=4,fetch(o,{method:"POST",body:a?JSON.stringify(a):void 0,headers:P(t)});case 4:return c=e.sent,e.t0=JSON,e.next=8,c.text();case 8:return e.t1=e.sent,s=e.t0.parse.call(e.t0,e.t1),e.abrupt("return",z(s));case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(N.a.mark((function e(t,a,n){var r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL("".concat(document.location.origin,"/api/versions"))).search=new URLSearchParams({nid:a}),e.next=4,fetch(r,{method:"POST",body:JSON.stringify(n),headers:P(t)});case 4:return o=e.sent,e.t0=JSON,e.next=8,o.text();case 8:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URL("".concat(document.location.origin,"/api/list"))).search=new URLSearchParams({_rawId:a}),e.next=4,fetch(n,{method:"GET",headers:P(t)});case 4:return r=e.sent,e.t0=JSON,e.next=8,r.text();case 8:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(document.location.origin,"/api/log")),e.next=3,fetch(a,{method:"GET",headers:P(t)});case 3:return n=e.sent,e.t0=JSON,e.next=7,n.text();case 7:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URL("".concat(document.location.origin,"/api/remove"))).search=new URLSearchParams({nid:a}),e.next=4,fetch(n,{method:"DELETE",headers:P(t)});case 4:return r=e.sent,e.abrupt("return",r.text());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(document.location.origin,"/api/init")),e.next=3,fetch(a,{method:"POST",headers:P(t)});case 3:return n=e.sent,e.abrupt("return",n.text());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(N.a.mark((function e(t,a,n){var r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL("".concat(document.location.origin,"/api/add"))).search=new URLSearchParams({parentID:a}),e.next=4,fetch(r,{method:"POST",headers:P(t),body:JSON.stringify(n)});case 4:return o=e.sent,e.abrupt("return",o.text());case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(document.location.origin,"/api/edit")),e.next=3,fetch(n,{method:"PUT",headers:P(t),body:JSON.stringify(a)});case 3:return r=e.sent,e.abrupt("return",r.text());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var H=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return window.localStorage.setItem("sessionID",e),e},$=function(e){return e["obj-class"].substr(0,e["obj-class"].length-1).replace(/_/g," ").toProperCase()},V=function(e){var t=Object.assign({},e.data());delete t.id,delete t._rawId;var a=$(t);delete t["obj-class"];var n=t.Body;return delete t.Body,{objClass:a,body:n,content:Object.entries(t).map((function(e){return{field:e[0],value:e[1]}}))}},Y=function(e,t){var a=window.poppers[e];a&&(a.reference.removeAttribute&&a.reference.removeAttribute("disabled"),a.destroy(),delete window.poppers[e]);var n=document.getElementById(t);n&&n.remove()},q=function(e,t){window.poppers=window.poppers||{},window.poppers[e]=t},Q=a(137),X=a(136),Z=function(e){var t=e.canvas;return r.a.createElement(X.a,{className:"ml-1",color:"primary",onClick:t.cyReset.bind(t)},r.a.createElement(Q.a,{size:16})," Redraw")},ee=a(138),te=function(e){var t=e.canvas;return r.a.createElement(X.a,{color:"danger",onClick:Object(j.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? You will lose all your changes and history!")){e.next=6;break}return e.next=4,t.reset();case 4:t.cy.reset(),t.setElements();case 6:case"end":return e.stop()}}),e)})))},r.a.createElement(ee.a,{size:16})," Reset")},ae=a(27),ne=a(28),re=a.n(ne),oe=(a(38),a(21)),ce=a.n(oe),se=(a(51),a(141)),ie=a(142),le=a(143),ue=a(144),de=a(145),me=a(140),pe=a(139),fe=function(e){var t=e.popperKey,a=e.divKey;return r.a.createElement(pe.a,{href:"#",className:"btn btn-outline-dark float-right align-bottom ml-1",onClick:function(){return Y(t,a)}},r.a.createElement(me.a,null))},he=(a(125),function(e){var t=e.canvas;return r.a.createElement(X.a,{className:"ml-1",outline:!0,color:"info",id:"search",onClick:function(){return function(e){var t=e.cy.$("node").jsons().map((function(e){var t=e.data;return{Body:t.Body,Type:t.Type,Class:$(t),id:t.id}})),a=[{dataField:"Body",text:"Body",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Class",text:"Class",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Type",text:"Type",sort:!0,filter:Object(oe.textFilter)()}],n={mode:"radio",clickToSelect:!0,bgColor:"#00BFFF",onSelect:function(t){var a=e.cy,n=a.$id(t.id),r=n.renderedPosition(),o=a.width()/2,c=a.height()/2,s={x:o-r.x,y:c-r.y},i=Math.min(o/n.width(),c/n.height())/2;a.$("node").length<=50?a.animate({panBy:s,duration:500}).delay(100,(function(){a.animate({zoom:{level:i,renderedPosition:{x:o,y:c}},duration:500})})):(a.panBy(s),a.zoom({level:i,renderedPosition:{x:o,y:c}})),Y("search","popper-search")}},o=document.createElement("div");c.a.render(r.a.createElement(ie.a,{className:"border-dark",style:{minWidth:"50vw",maxWidth:"98vw"}},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mb-4"},"Search ",r.a.createElement("small",{className:"text-muted"},"(Jump to Body)"),r.a.createElement(fe,{divKey:"popper-search",popperKey:"search"})),r.a.createElement(de.a,{tag:"div",className:"mw-100"},r.a.createElement(re.a,{bootstrap4:!0,keyField:"id",data:t,columns:a,hover:!0,condensed:!0,selectRow:n,filter:ce()(),wrapperClasses:"search"})))),o),document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("id","popper-search"),q("search",new ae.default(document.getElementById("search"),o,{modifiers:{flip:{enabled:!1}},onCreate:function(e){e.instance.reference.setAttribute("disabled",!0)}}))}(t)}},r.a.createElement(se.a,{size:16})," Search")});var ve=a(59),be=a.n(ve),ye=(a(126),a(148)),ge=a(147),Ee=a(60),we=(a(127),a(146)),xe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.event;return r.a.createElement(ie.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4"},e.group," ",r.a.createElement("small",{className:"text-muted"},"(",this.props.objClass,")"),r.a.createElement(fe,{divKey:"popper-details-".concat(e.subgroup),popperKey:"details-".concat(e.subgroup)})),r.a.createElement(we.a,{className:"mw-100"},e.content," - ",e.title.toString()),r.a.createElement(de.a,{tag:"div",className:"border-top mw-100"},this.props.children)))}}]),t}(r.a.Component),ke=(a(128),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.items,a=e.groups,n=e.options,o=e.sessionID;setTimeout((function(){var e=document.getElementById("timeline-inner");(window.timeline=new Ee.a.Timeline(e,t,a,n)).on("select",function(){var e=Object(j.a)(N.a.mark((function e(n){var s,i,l,u,d,m,p,f,h,v,b;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.items,i=n.event,!s.length){e.next=39;break}l=s[0],u=t.find((function(e){return e.id===l})),d=document.createElement("div"),e.t0=u.className,e.next="deleted"===e.t0?8:"created"===e.t0?12:"updated"===e.t0?22:34;break;case 8:return f=a.find((function(e){return Array.isArray(e.nestedGroups)&&e.nestedGroups.includes(u.group)})).content,m=f.substr(0,f.length-1),c.a.render(r.a.createElement(xe,{event:u,objClass:m},"Deleted."),d),e.abrupt("break",36);case 12:return e.next=14,D(o,[u.subgroup],u.start/1e3+1e-4);case 14:return delete(p=e.sent.nodes[0].data)._rawId,delete p.id,delete p.Body,m=$(p),delete p["obj-class"],c.a.render(r.a.createElement(xe,{event:u,objClass:m},r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(p,null,2)))),d),e.abrupt("break",36);case 22:return h=t.lastIndexOf(u),v=t[h-1],b=[v,u].map((function(e){return e.start/1e3+1e-4})),f=a.find((function(e){return Array.isArray(e.nestedGroups)&&e.nestedGroups.includes(u.group)})).content,m=f.substr(0,f.length-1),e.next=29,U(o,u.subgroup,b);case 29:return e.t1=function(e){return delete e._rawId,delete e.id,delete e.Body,delete e["obj-class"],JSON.stringify(e,null,2)},p=e.sent.map(e.t1),c.a.render(r.a.createElement(xe,{event:u,objClass:m},r.a.createElement("div",{id:"diff"})),d),setTimeout((function(){return document.getElementById("diff").appendChild(be.a.buildView({baseText:p[0],newText:p[1],baseTextName:"Previous Event",newTextName:"This Event",inline:!1}))}),0),e.abrupt("break",36);case 34:return console.log("WTF!"),e.abrupt("break",36);case 36:document.getElementsByTagName("body")[0].appendChild(d),d.setAttribute("id","popper-details-".concat(u.subgroup)),q("details-".concat(u.subgroup),new ae.default(i.target,d));case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),0)}},{key:"render",value:function(){return r.a.createElement("div",{id:"timeline-inner"})}}]),t}(r.a.Component));function Oe(){return(Oe=Object(j.a)(N.a.mark((function e(t){var a,n,o,s,i,l,u,d,m,p,f;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:for(a=e.sent,n=a.groups,o=a.items,s=!0,i=!1,l=void 0,e.prev=8,u=o[Symbol.iterator]();!(s=(d=u.next()).done);s=!0)(m=d.value).content=m.className.toProperCase(),m.title=new Date(m.start).toISOString();e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),i=!0,l=e.t0;case 16:e.prev=16,e.prev=17,s||null==u.return||u.return();case 19:if(e.prev=19,!i){e.next=22;break}throw l;case 22:return e.finish(19);case 23:return e.finish(16);case 24:console.log({groups:n,items:o}),p={width:"95vw",type:"box",zoomKey:"ctrlKey",orientation:{axis:"top",item:"top"},maxHeight:"70vh",horizontalScroll:!1,verticalScroll:!0},f=document.createElement("div"),c.a.render(r.a.createElement(ie.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},"Timeline ",r.a.createElement("small",{className:"text-muted"},"(History of Changes)"),r.a.createElement(ge.a,{color:"secondary",className:"ml-1"},"(CTRL + Scroll to zoom)"),r.a.createElement(fe,{divKey:"popper-timeline",popperKey:"timeline"}),r.a.createElement(X.a,{className:"float-right",color:"primary",onClick:function(){return window.timeline.fit()}},r.a.createElement(Q.a,{size:16})," Refit")),r.a.createElement(de.a,{tag:"div",className:"mw-100"},r.a.createElement(ke,{items:o,groups:n,options:p,sessionID:t})))),f),document.getElementsByTagName("body")[0].appendChild(f),f.setAttribute("id","popper-timeline"),q("timeline",new ae.default(document.getElementById("timeline"),f,{modifiers:{flip:{enabled:!1}},onCreate:function(e){e.instance.reference.setAttribute("disabled",!0)}}));case 31:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})))).apply(this,arguments)}var Ne=function(e){var t=e.sessionID;return r.a.createElement(X.a,{className:"ml-1",color:"info",id:"timeline",onClick:function(){return function(e){return Oe.apply(this,arguments)}(t)}},r.a.createElement(ye.a,{size:16})," Timeline")},je=(a(129),a(149)),Se=a(150),Ce=a(151),Ie=a(152),Te=a(153),Be=a(154),Le=a(155),Fe=a(157),Re=a(158),Ae=a(61);C.a.use(L.a),C.a.use(T.a);var ze=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this,a))).state={elements:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(j.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.cy=this.cy,this.configurePlugins(),this.setHandlers(),window.localStorage.getItem("sessionID")){e.next=7;break}return e.next=7,this.reset();case 7:this.setElements();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=H();return M(e)}},{key:"configurePlugins",value:function(){var e=this.cy,t=Math.min(e.width(),e.height())/8,a={menuRadius:t+50,selector:"node",commands:this.buildMenu.bind(this),fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(100, 100, 100, 0.5)",activePadding:10,indicatorSize:16,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:t-40,maxSpotlightRadius:t-20,openMenuEvents:"tap",itemColor:"white",itemTextShadowColor:"transparent",atMouse:!1};this.cy.cxtmenu(a)}},{key:"buildMenu",value:function(e){var t=window.localStorage.getItem("sessionID"),a=[];return function(e){var t=document.createElement("span");c.a.render(r.a.createElement(Re.a,null),t),e.push({fillColor:"rgba(0, 0, 200, 0.75)",content:t.outerHTML,select:function(e){q(e.id(),e.popper({content:function(){var t=V(e),a=t.objClass,n=t.body,o=t.content,s=document.createElement("div");return c.a.render(r.a.createElement(ie.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},n,"\xa0",r.a.createElement("span",null,r.a.createElement("small",{className:"text-muted"},"(",a,")")),r.a.createElement(fe,{divKey:"popper-".concat(e.id()),popperKey:e.id()})),r.a.createElement(de.a,{tag:"div"},r.a.createElement(re.a,{bootstrap4:!0,keyField:"field",data:o,columns:[{dataField:"field",text:"Field"},{dataField:"value",text:"Value"}],hover:!0,condensed:!0})))),s),document.getElementsByTagName("body")[0].appendChild(s),s.setAttribute("id","popper-".concat(e.id())),s}}))},enabled:!0})}(a),"stars"!==e.data()["obj-class"]&&function(e,t,a){var n=document.createElement("span");c.a.render(r.a.createElement(Se.a,null),n),e.push({fillColor:"rgba(200, 0, 0, 0.75)",content:n.outerHTML,contentStyle:{},select:function(){var e=Object(j.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? This will remove the selected node and ALL its descendants!")){e.next=5;break}return e.next=4,J(a,n.id());case 4:t.setElements();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enabled:!0})}(a,this,t),function(e,t,a){var n=document.createElement("span");c.a.render(r.a.createElement(Ce.a,null),n),e.push({fillColor:"rgba(255, 165, 0, 0.75)",content:n.outerHTML,select:function(e){q(e.id(),e.popper({content:function(){var n=V(e),o=n.objClass,s=n.body,i=n.content,l=document.createElement("div");return c.a.render(r.a.createElement(ie.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},"Edit ",s,"\xa0",r.a.createElement("span",null,r.a.createElement("small",{className:"text-muted"},"(",o,")")),r.a.createElement(fe,{divKey:"popper-".concat(e.id()),popperKey:e.id()}),r.a.createElement(pe.a,{href:"#",className:"btn btn-primary float-right",id:"add",onClick:Object(j.a)(N.a.mark((function n(){var r,o,c,s,l,u,d;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=Object.assign({},e.data()),o=!0,c=!1,s=void 0,n.prev=4,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)d=u.value,r[d.field]=d.value;n.next=12;break;case 8:n.prev=8,n.t0=n.catch(4),c=!0,s=n.t0;case 12:n.prev=12,n.prev=13,o||null==l.return||l.return();case 15:if(n.prev=15,!c){n.next=18;break}throw s;case 18:return n.finish(15);case 19:return n.finish(12);case 20:return r._id=r.id,delete r.id,Y(e.id(),"popper-".concat(e.id())),n.next=25,W(a,r);case 25:t.setElements();case 26:case"end":return n.stop()}}),n,null,[[4,8,12,20],[13,,15,19]])})))},r.a.createElement(Ie.a,null)," Save")),r.a.createElement(de.a,{tag:"div"},r.a.createElement(Te.a,null,i.map((function(t){return r.a.createElement(Be.a,{key:t.field,row:!0},r.a.createElement(Le.a,{for:"".concat(e.id(),"-").concat(t.field),sm:4,size:"sm"},t.field),r.a.createElement(k.a,{sm:8},r.a.createElement(Fe.a,{type:"text",name:t.field,id:"".concat(e.id(),"-").concat(t.field),defaultValue:t.value,required:!0,bsSize:"sm",onChange:function(e){t.value=e.target.value}})))})))))),l),document.getElementsByTagName("body")[0].appendChild(l),l.setAttribute("id","popper-".concat(e.id())),l}}))},enabled:!0})}(a,this,t),function(e,t,a){var n=document.createElement("span");c.a.render(r.a.createElement(je.a,null),n),e.push({fillColor:"rgba(0, 200, 0, 0.75)",content:n.outerHTML,contentStyle:{},select:function(){var e=Object(j.a)(N.a.mark((function e(n){var o,s,i,l,u,d,m,p,f,h,v;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.outgoers("node"),e.next=3,_(a,n.data()._rawId);case 3:for(e.t0=function(e){return!o.filter((function(t){return t.data()._rawId===e._rawId})).length},s=e.sent.filter(e.t0),i=!0,l=!1,u=void 0,e.prev=8,d=s[Symbol.iterator]();!(i=(m=d.next()).done);i=!0)(p=m.value).Class=$(p);e.next=16;break;case 12:e.prev=12,e.t1=e.catch(8),l=!0,u=e.t1;case 16:e.prev=16,e.prev=17,i||null==d.return||d.return();case 19:if(e.prev=19,!l){e.next=22;break}throw u;case 22:return e.finish(19);case 23:return e.finish(16);case 24:f=[{dataField:"Body",text:"Body",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Class",text:"Class",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Type",text:"Type",sort:!0,filter:Object(oe.textFilter)()}],h=new Set,v={mode:"checkbox",clickToSelect:!0,bgColor:"#00BFFF",onSelect:function(e,t){var a=document.getElementById("add");t?(h.add(e._rawId),a.classList.contains("disabled")&&a.classList.remove("disabled")):(h.delete(e._rawId),h.size||a.classList.add("disabled"))},onSelectAll:function(e,t){var a=document.getElementById("add");if(e){var n=!0,r=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value;h.add(i._rawId),a.classList.remove("disabled")}}catch(l){r=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}else h.clear(),a.classList.add("disabled")}},q(n.id(),n.popper({content:function(){var e=document.createElement("div");return c.a.render(r.a.createElement(ie.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},"Add Orbiting Body"," ",r.a.createElement("small",{className:"text-muted"},"(",n.data().Body,")"),r.a.createElement(fe,{divKey:"popper-".concat(n.id()),popperKey:n.id()}),r.a.createElement(pe.a,{href:"#",className:"btn btn-success disabled float-right",id:"add",onClick:Object(j.a)(N.a.mark((function e(){var r,o,c,i,l,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=s.filter((function(e){return h.has(e._rawId)})),o=!0,c=!1,i=void 0,e.prev=4,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)delete u.value.Class;e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),c=!0,i=e.t0;case 12:e.prev=12,e.prev=13,o||null==l.return||l.return();case 15:if(e.prev=15,!c){e.next=18;break}throw i;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return Y(n.id(),"popper-".concat(n.id())),e.next=23,G(a,n.id(),r);case 23:t.setElements();case 24:case"end":return e.stop()}}),e,null,[[4,8,12,20],[13,,15,19]])})))},r.a.createElement(je.a,null)," Add Selected")),r.a.createElement(de.a,{tag:"div",className:"mw-100"},s.length?r.a.createElement(re.a,{bootstrap4:!0,keyField:"_rawId",data:s,columns:f,hover:!0,condensed:!0,selectRow:v,filter:ce()()}):r.a.createElement("p",null,"No Orbiters Found.")))),e),document.getElementsByTagName("body")[0].appendChild(e),e.setAttribute("id","popper-".concat(n.id())),e}}));case 28:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})));return function(t){return e.apply(this,arguments)}}(),enabled:!0})}(a,this,t),a}},{key:"setElements",value:function(){var e=Object(j.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("sessionID"),e.next=3,D(t);case 3:a=e.sent,this.setState({elements:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cyReset",value:function(){var e=this.cy;e.reset();var t=e.$("node").length<=50;t&&e.layout(this.getOptions(t)).run()}},{key:"setHandlers",value:function(){var e=this.cy;e.on("mouseover","node",(function(){document.getElementById("cy").style.cursor="pointer"})),e.on("mouseout","node",(function(){document.getElementById("cy").style.cursor="default"})),e.on("select mouseover","edge",(function(e){e.target.style({width:4,"line-color":"#007bff","target-arrow-color":"#007bff"})})),e.on("unselect mouseout","edge",(function(e){var t=e.target;t.selected()||t.style({width:2,"line-color":"#ccc","target-arrow-color":"#ccc"})})),e.on("add","node",(function(e){var t=e.target;t.style("background-color",A[t.data()["obj-class"]]);var a=10*Math.log(50*(parseFloat(t.data()["Radius\u2009(R\u2295)"])||1));t.style("width","".concat(a,"px")),t.style("height","".concat(a,"px")),t.scratch("style",t.style())})),e.on("mouseover select","node",(function(e){e.target.style("background-color","#007bff")})),e.on("mouseout unselect","node",(function(e){var t=e.target;t.selected()||t.style("background-color",t.scratch("style")["background-color"])}))}},{key:"getOptions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{name:"breadthfirst",fit:e,directed:!0,padding:30,circle:!1,grid:!1,spacingFactor:1.75,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0,maximal:!0,animate:e,animationDuration:500,animateFilter:function(){return!0},transform:function(e,t){return t}}}},{key:"render",value:function(){var e=this,t=this.getOptions();return r.a.createElement("div",null,r.a.createElement(x.a,{className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(te,{canvas:this}),r.a.createElement(Z,{canvas:this}),r.a.createElement(he,{canvas:this}),r.a.createElement(Ne,{sessionID:window.localStorage.getItem("sessionID")}))),r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement("div",{className:"border border-secondary rounded w-100",id:"cy-container"},r.a.createElement("div",{className:"m-1",id:"cy"},r.a.createElement(R.a,{cy:function(t){e.cy=t},style:{width:"100%",height:"100%"},stylesheet:Ae,layout:t,elements:R.a.normalizeElements(this.state.elements)}))))))}}]),t}(r.a.Component),Pe=a(160),De=a(172),Ue=a(161),_e=a(162),Ke=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Pe.a,{onClick:this.toggle}),r.a.createElement(De.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,style:{minWidth:"95vw"}},r.a.createElement(Ue.a,{toggle:this.toggle,close:r.a.createElement(X.a,{outline:!0,color:"dark"},r.a.createElement(me.a,{onClick:this.toggle}))},"CivicGraph Demo"),r.a.createElement(_e.a,null,r.a.createElement("h4",null,"About"),r.a.createElement("p",null,"CivicGraph is a ",r.a.createElement("em",null,"temporal graph data store")," - it retains all changes that its data have gone through to reach their current state. Refer to the\xa0",r.a.createElement("a",{href:"https://github.com/adityamukho/CivicGraph",target:"_blank",rel:"noopener noreferrer"},"project home page")," ","to find out more."),r.a.createElement("p",null,"This demo is meant to be a visual, interactive walkthrough of (a few of) CivicGraph's capabilities."),r.a.createElement("h4",null,"Instructions"),r.a.createElement("ul",null,r.a.createElement("li",null,"Click on any of the nodes on the canvas to bring up a circular context menu."),r.a.createElement("li",null,"Use this menu to view, delete, edit or add children to the node."),r.a.createElement("li",{className:"my-1"},"Use the"," ",r.a.createElement("span",{className:"btn btn-danger"},r.a.createElement(ee.a,{size:16})," Redraw")," ","button to reset all your changes and start with a fresh set of nodes.",r.a.createElement("p",{className:"text-danger"},r.a.createElement("strong",null,"This will cause you to lose all your changes and history accrued so far!"))),r.a.createElement("li",{className:"my-1"},"Use the"," ",r.a.createElement("span",{className:"btn btn-primary"},r.a.createElement(Q.a,{size:16})," Redraw")," ","button to automatically reset the canvas zoom, pan and node layout."),r.a.createElement("li",{className:"my-1"},"Use the"," ",r.a.createElement("span",{className:"btn btn-outline-info"},r.a.createElement(se.a,{size:16})," Search")," ","button to search for, and zoom into a node present on canvas."),r.a.createElement("li",{className:"my-1"},"Use the"," ",r.a.createElement("span",{className:"btn btn-info"},r.a.createElement(ye.a,{size:16})," Timeline")," ","button to see a timeline of all changes made to your node data from the beginning of the graph's first load (or last reset).")))))}}]),t}(r.a.Component),Je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(d.a)(a)),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(f.a,{fluid:!0},r.a.createElement(h.a,{color:"inverse",light:!0,expand:"md",className:"border-bottom mb-2"},r.a.createElement(v.a,{href:"/",className:"text-wrap"},"CivicGraph Demo - A DIY Solar System",r.a.createElement("span",{className:"spinner-grow mx-2 text-danger invisible",role:"status",id:"loading"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement(b.a,{onClick:this.toggle}),r.a.createElement(y.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(g.a,{className:"ml-auto",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"#"},r.a.createElement(Ke,null))),r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"https://github.com/adityamukho/CivicGraph",target:"_blank"},r.a.createElement(p.a,null)))))),r.a.createElement(f.a,{fluid:!0},r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(ze,null)))))}}]),t}(n.Component);a(133),a(134),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},57:function(e){e.exports=JSON.parse('{"stars":"#ffff00","planets":"#f7a35c","dwarf_planets":"#90ee7e","moons":"#eeaaee","comets":"#aaeeee","asteroids":"#ff0066"}')},61:function(e){e.exports=JSON.parse('[{"selector":"*","style":{"color":"#fff"}},{"selector":"node.data","style":{"text-valign":"center","text-halign":"left"}},{"selector":"node[Body]","style":{"label":"data(Body)"}},{"selector":"edge","style":{"width":2,"line-color":"#ccc","text-rotation":"autorotate","text-margin-y":"-10px","curve-style":"straight","target-arrow-color":"#ccc","target-arrow-shape":"vee"}}]')},62:function(e,t,a){e.exports=a(135)}},[[62,1,2]]]);
//# sourceMappingURL=main.dc22f7e9.chunk.js.map