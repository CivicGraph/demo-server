(window["webpackJsonpdemo-react"]=window["webpackJsonpdemo-react"]||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},131:function(e,t,n){},132:function(e,t){String.prototype.toProperCase=function(){return this.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};var n=fetch;window.fetch=function(){var e=new Event("fetchStart",{view:document,bubbles:!0,cancelable:!1}),t=new Event("fetchEnd",{view:document,bubbles:!0,cancelable:!1}),a=n.apply(this,arguments);return document.dispatchEvent(e),a.then((function(){document.dispatchEvent(t)})).catch((function(){document.dispatchEvent(t)})),a},document.addEventListener("fetchStart",(function(){var e=document.getElementById("loading");e.classList.remove("invisible"),e.classList.add("visible")})),document.addEventListener("fetchEnd",(function(){var e=document.getElementById("loading");e.classList.remove("visible"),e.classList.add("invisible")}))},133:function(e,t,n){"use strict";n.r(t);n(62);var a=n(1),r=n.n(a),o=n(8),c=n.n(o),i=n(18),s=n(19),l=n(21),u=n(20),d=n(10),m=n(22),p=n(165),f=n(158),h=n(159),v=n(160),b=n(161),y=n(166),w=n(162),g=n(163),E=n(164),x=n(157),k=n(154),O=n(6),S=n.n(O),j=n(9),N=n(30),C=n.n(N),T=n(54),I=n.n(T),B=n(55),L=n.n(B),F=n(38),R=n.n(F),P=n(56);function D(e){var t={vertex:"nodes",edge:"edges"},n={_id:"id",_from:"source",_to:"target"},a={},r=!0,o=!1,c=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value,u=t[l.type];a[u]=[];var d=!0,m=!1,p=void 0;try{for(var f,h=l.nodes[Symbol.iterator]();!(d=(f=h.next()).done);d=!0){var v=f.value,b={};for(var y in v)b[n[y]||y]=v[y];a[u].push({data:b})}}catch(w){m=!0,p=w}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}}}catch(w){o=!0,c=w}finally{try{r||null==s.return||s.return()}finally{if(o)throw c}}return a}function _(e){return{"x-session-id":e,"Content-Type":"application/json"}}var A=function(){var e=Object(j.a)(S.a.mark((function e(t,n,a,r){var o,c,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new URL("".concat(document.location.origin,"/api/show"))).search=new URLSearchParams(Object.assign(a?{timestamp:a}:{},r)),e.next=4,fetch(o,{method:"POST",body:n?JSON.stringify(n):void 0,headers:_(t)});case 4:return c=e.sent,e.t0=JSON,e.next=8,c.text();case 8:return e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1),e.abrupt("return",D(i));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(S.a.mark((function e(t,n,a){var r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL("".concat(document.location.origin,"/api/versions"))).search=new URLSearchParams({nid:n}),e.next=4,fetch(r,{method:"POST",body:JSON.stringify(a),headers:_(t)});case 4:return o=e.sent,e.t0=JSON,e.next=8,o.text();case 8:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new URL("".concat(document.location.origin,"/api/list"))).search=new URLSearchParams({_rawId:n}),e.next=4,fetch(a,{method:"GET",headers:_(t)});case 4:return r=e.sent,e.t0=JSON,e.next=8,r.text();case 8:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(document.location.origin,"/api/log")),e.next=3,fetch(n,{method:"GET",headers:_(t)});case 3:return a=e.sent,e.t0=JSON,e.next=7,a.text();case 7:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new URL("".concat(document.location.origin,"/api/remove"))).search=new URLSearchParams({nid:n}),e.next=4,fetch(a,{method:"DELETE",headers:_(t)});case 4:return r=e.sent,e.abrupt("return",r.text());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(document.location.origin,"/api/init")),e.next=3,fetch(n,{method:"POST",headers:_(t)});case 3:return a=e.sent,e.abrupt("return",a.text());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(S.a.mark((function e(t,n,a){var r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL("".concat(document.location.origin,"/api/add"))).search=new URLSearchParams({parentID:n}),e.next=4,fetch(r,{method:"POST",headers:_(t),body:JSON.stringify(a)});case 4:return o=e.sent,e.abrupt("return",o.text());case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(document.location.origin,"/api/edit")),e.next=3,fetch(a,{method:"PUT",headers:_(t),body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.text());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var G=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return window.localStorage.setItem("sessionID",e),e},H=function(e){return e["obj-class"].substr(0,e["obj-class"].length-1).replace(/_/g," ").toProperCase()},$=function(e){var t=Object.assign({},e.data());delete t.id,delete t._rawId;var n=H(t);delete t["obj-class"];var a=t.Body;return delete t.Body,{objClass:n,body:a,content:Object.entries(t).map((function(e){return{field:e[0],value:e[1]}}))}},V=function(e,t){window.poppers[e]&&(window.poppers[e].destroy(),window.currentScrollY&&setTimeout((function(){window.scrollTo(window.scrollX,window.currentScrollY),delete window.currentScrollY}),0),delete window.poppers[e]);var n=document.getElementById(t);n&&n.remove()},q=function(e,t){window.poppers=window.poppers||{},window.poppers[e]=t},X=n(135),Q=n(134),Z=function(e){var t=e.canvas;return r.a.createElement(Q.a,{className:"ml-1",color:"primary",onClick:t.cyReset.bind(t)},r.a.createElement(X.a,{size:16})," Redraw")},ee=n(136),te=function(e){var t=e.canvas;return r.a.createElement(Q.a,{color:"danger",onClick:Object(j.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? You will lose all your changes and history!")){e.next=6;break}return e.next=4,t.reset();case 4:t.cy.reset(),t.setElements();case 6:case"end":return e.stop()}}),e)})))},r.a.createElement(ee.a,{size:16})," Reset")},ne=n(25),ae=n(26),re=n.n(ae),oe=(n(37),n(14)),ce=n.n(oe),ie=(n(50),n(139)),se=n(140),le=n(141),ue=n(142),de=n(143),me=n(138),pe=n(137),fe=function(e){var t=e.popperKey,n=e.divKey;return r.a.createElement(pe.a,{href:"#",className:"btn btn-outline-dark float-right align-bottom ml-1",onClick:function(){return V(t,n)}},r.a.createElement(me.a,null))},he=function(e){var t=e.canvas;return r.a.createElement(Q.a,{className:"ml-1",outline:!0,color:"info",id:"search",onClick:function(){return function(e){var t=e.cy.$("node").jsons().map((function(e){var t=e.data;return{Body:t.Body,Type:t.Type,Class:H(t),id:t.id}})),n=[{dataField:"Body",text:"Body",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Class",text:"Class",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Type",text:"Type",sort:!0,filter:Object(oe.textFilter)()}],a={mode:"radio",clickToSelect:!0,bgColor:"#00BFFF",onSelect:function(t){var n=e.cy,a=n.$id(t.id),r=a.renderedPosition(),o=n.width()/2,c=n.height()/2,i={x:o-r.x,y:c-r.y},s=Math.min(o/a.width(),c/a.height())/2;n.$("node").length<=50?n.animate({panBy:i,duration:500}).delay(100,(function(){n.animate({zoom:{level:s,renderedPosition:{x:o,y:c}},duration:500})})):(n.panBy(i),n.zoom({level:s,renderedPosition:{x:o,y:c}})),V("search","popper-search")}},o=document.createElement("div");c.a.render(r.a.createElement(se.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},"Search ",r.a.createElement("small",{className:"text-muted"},"(Jump to Body)"),r.a.createElement(fe,{divKey:"popper-search",popperKey:"search"})),r.a.createElement(de.a,{tag:"div",className:"mw-100"},r.a.createElement(re.a,{bootstrap4:!0,keyField:"id",data:t,columns:n,hover:!0,condensed:!0,selectRow:a,filter:ce()()})))),o),document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("id","popper-search"),q("search",new ne.default(document.getElementById("search"),o))}(t)}},r.a.createElement(ie.a,{size:16})," Search")};var ve=n(58),be=n.n(ve),ye=(n(124),n(146)),we=n(145),ge=n(59),Ee=(n(125),n(144)),xe=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.event;return r.a.createElement(se.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4"},e.group," ",r.a.createElement("small",{className:"text-muted"},"(",this.props.objClass,")"),r.a.createElement(fe,{divKey:"popper-details-".concat(e.subgroup),popperKey:"details-".concat(e.subgroup)})),r.a.createElement(Ee.a,{className:"mw-100"},e.content," - ",e.title.toString()),r.a.createElement(de.a,{tag:"div",className:"border-top mw-100"},this.props.children)))}}]),t}(r.a.Component),ke=(n(126),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.items,n=e.groups,a=e.options,o=e.sessionID;setTimeout((function(){var e=document.getElementById("timeline-inner");(window.timeline=new ge.a.Timeline(e,t,n,a)).on("select",function(){var e=Object(j.a)(S.a.mark((function e(a){var i,s,l,u,d,m,p,f,h,v,b;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.items,s=a.event,!i.length){e.next=39;break}l=i[0],u=t.find((function(e){return e.id===l})),d=document.createElement("div"),e.t0=u.className,e.next="deleted"===e.t0?8:"created"===e.t0?12:"updated"===e.t0?22:34;break;case 8:return f=n.find((function(e){return Array.isArray(e.nestedGroups)&&e.nestedGroups.includes(u.group)})).content,m=f.substr(0,f.length-1),c.a.render(r.a.createElement(xe,{event:u,objClass:m},"Deleted."),d),e.abrupt("break",36);case 12:return e.next=14,A(o,[u.subgroup],u.start/1e3+1e-4);case 14:return delete(p=e.sent.nodes[0].data)._rawId,delete p.id,delete p.Body,m=H(p),delete p["obj-class"],c.a.render(r.a.createElement(xe,{event:u,objClass:m},r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(p,null,2)))),d),e.abrupt("break",36);case 22:return h=t.lastIndexOf(u),v=t[h-1],b=[v,u].map((function(e){return e.start/1e3+1e-4})),f=n.find((function(e){return Array.isArray(e.nestedGroups)&&e.nestedGroups.includes(u.group)})).content,m=f.substr(0,f.length-1),e.next=29,K(o,u.subgroup,b);case 29:return e.t1=function(e){return delete e._rawId,delete e.id,delete e.Body,delete e["obj-class"],JSON.stringify(e,null,2)},p=e.sent.map(e.t1),c.a.render(r.a.createElement(xe,{event:u,objClass:m},r.a.createElement("div",{id:"diff"})),d),setTimeout((function(){return document.getElementById("diff").appendChild(be.a.buildView({baseText:p[0],newText:p[1],baseTextName:"Previous Event",newTextName:"This Event",inline:!1}))}),0),e.abrupt("break",36);case 34:return console.log("WTF!"),e.abrupt("break",36);case 36:document.getElementsByTagName("body")[0].appendChild(d),d.setAttribute("id","popper-details-".concat(u.subgroup)),q("details-".concat(u.subgroup),new ne.default(s.target,d,{placement:"auto",onCreate:function(){return window.currentScrollY=window.scrollY},onUpdate:function(){return window.currentScrollY=window.scrollY},modifiers:{flip:{behavior:["left","bottom","top"]},preventOverflow:{boundariesElement:"viewport"}}}));case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),0)}},{key:"render",value:function(){return r.a.createElement("div",{id:"timeline-inner"})}}]),t}(r.a.Component));function Oe(){return(Oe=Object(j.a)(S.a.mark((function e(t){var n,a,o,i,s,l,u,d,m,p,f;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:for(n=e.sent,a=n.groups,o=n.items,i=!0,s=!1,l=void 0,e.prev=8,u=o[Symbol.iterator]();!(i=(d=u.next()).done);i=!0)(m=d.value).content=m.className.toProperCase(),m.title=new Date(m.start);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),s=!0,l=e.t0;case 16:e.prev=16,e.prev=17,i||null==u.return||u.return();case 19:if(e.prev=19,!s){e.next=22;break}throw l;case 22:return e.finish(19);case 23:return e.finish(16);case 24:p={width:"95vw",type:"box",zoomKey:"ctrlKey",orientation:{axis:"both"},stack:!1,groupHeightMode:"fixed",stackSubgroups:!1},f=document.createElement("div"),c.a.render(r.a.createElement(se.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},"Timeline ",r.a.createElement("small",{className:"text-muted"},"(History of Changes)"),r.a.createElement(we.a,{color:"secondary",className:"ml-1"},"(CTRL + Scroll to zoom)"),r.a.createElement(fe,{divKey:"popper-timeline",popperKey:"timeline"}),r.a.createElement(Q.a,{className:"float-right",color:"primary",onClick:function(){return window.timeline.fit()}},r.a.createElement(X.a,{size:16})," Refit")),r.a.createElement(de.a,{tag:"div",className:"mw-100"},r.a.createElement(ke,{items:o,groups:a,options:p,sessionID:t})))),f),document.getElementsByTagName("body")[0].appendChild(f),f.setAttribute("id","popper-timeline"),q("timeline",new ne.default(document.getElementById("timeline"),f));case 30:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})))).apply(this,arguments)}var Se=function(e){var t=e.sessionID;return r.a.createElement(Q.a,{className:"ml-1",color:"info",id:"timeline",onClick:function(){return function(e){return Oe.apply(this,arguments)}(t)}},r.a.createElement(ye.a,{size:16})," Timeline")},je=(n(127),n(147)),Ne=n(148),Ce=n(149),Te=n(150),Ie=n(151),Be=n(152),Le=n(153),Fe=n(155),Re=n(156),Pe=n(60);C.a.use(L.a),C.a.use(I.a);var De=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this,n))).state={elements:[]},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(j.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.cy=this.cy,this.configurePlugins(),this.setHandlers(),window.localStorage.getItem("sessionID")){e.next=7;break}return e.next=7,this.reset();case 7:this.setElements();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=G();return z(e)}},{key:"configurePlugins",value:function(){var e=this.cy,t=Math.min(e.width(),e.height())/8,n={menuRadius:t+50,selector:"node",commands:this.buildMenu.bind(this),fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(100, 100, 100, 0.5)",activePadding:10,indicatorSize:16,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:t-40,maxSpotlightRadius:t-20,openMenuEvents:"tap",itemColor:"white",itemTextShadowColor:"transparent",atMouse:!1};this.cy.cxtmenu(n)}},{key:"buildMenu",value:function(e){var t=window.localStorage.getItem("sessionID"),n=[];return function(e){var t=document.createElement("span");c.a.render(r.a.createElement(Re.a,null),t),e.push({fillColor:"rgba(0, 0, 200, 0.75)",content:t.outerHTML,select:function(e){q(e.id(),e.popper({content:function(){var t=$(e),n=t.objClass,a=t.body,o=t.content,i=document.createElement("div");return c.a.render(r.a.createElement(se.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},a,"\xa0",r.a.createElement("span",null,r.a.createElement("small",{className:"text-muted"},"(",n,")")),r.a.createElement(fe,{divKey:"popper-".concat(e.id()),popperKey:e.id()})),r.a.createElement(de.a,{tag:"div"},r.a.createElement(re.a,{bootstrap4:!0,keyField:"field",data:o,columns:[{dataField:"field",text:"Field"},{dataField:"value",text:"Value"}],hover:!0,condensed:!0})))),i),document.getElementsByTagName("body")[0].appendChild(i),i.setAttribute("id","popper-".concat(e.id())),i}}))},enabled:!0})}(n),"stars"!==e.data()["obj-class"]&&function(e,t,n){var a=document.createElement("span");c.a.render(r.a.createElement(Ne.a,null),a),e.push({fillColor:"rgba(200, 0, 0, 0.75)",content:a.outerHTML,contentStyle:{},select:function(){var e=Object(j.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? This will remove the selected node and ALL its descendants!")){e.next=5;break}return e.next=4,M(n,a.id());case 4:t.setElements();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enabled:!0})}(n,this,t),function(e,t,n){var a=document.createElement("span");c.a.render(r.a.createElement(Ce.a,null),a),e.push({fillColor:"rgba(255, 165, 0, 0.75)",content:a.outerHTML,select:function(e){q(e.id(),e.popper({content:function(){var a=$(e),o=a.objClass,i=a.body,s=a.content,l=document.createElement("div");return c.a.render(r.a.createElement(se.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},"Edit ",i,"\xa0",r.a.createElement("span",null,r.a.createElement("small",{className:"text-muted"},"(",o,")")),r.a.createElement(fe,{divKey:"popper-".concat(e.id()),popperKey:e.id()}),r.a.createElement(pe.a,{href:"#",className:"btn btn-primary float-right",id:"add",onClick:Object(j.a)(S.a.mark((function a(){var r,o,c,i,l,u,d;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(r=Object.assign({},e.data()),o=!0,c=!1,i=void 0,a.prev=4,l=s[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)d=u.value,r[d.field]=d.value;a.next=12;break;case 8:a.prev=8,a.t0=a.catch(4),c=!0,i=a.t0;case 12:a.prev=12,a.prev=13,o||null==l.return||l.return();case 15:if(a.prev=15,!c){a.next=18;break}throw i;case 18:return a.finish(15);case 19:return a.finish(12);case 20:return r._id=r.id,delete r.id,V(e.id(),"popper-".concat(e.id())),a.next=25,Y(n,r);case 25:t.setElements();case 26:case"end":return a.stop()}}),a,null,[[4,8,12,20],[13,,15,19]])})))},r.a.createElement(Te.a,null)," Save")),r.a.createElement(de.a,{tag:"div"},r.a.createElement(Ie.a,null,s.map((function(t){return r.a.createElement(Be.a,{key:t.field,row:!0},r.a.createElement(Le.a,{for:"".concat(e.id(),"-").concat(t.field),sm:4,size:"sm"},t.field),r.a.createElement(k.a,{sm:8},r.a.createElement(Fe.a,{type:"text",name:t.field,id:"".concat(e.id(),"-").concat(t.field),defaultValue:t.value,required:!0,bsSize:"sm",onChange:function(e){t.value=e.target.value}})))})))))),l),document.getElementsByTagName("body")[0].appendChild(l),l.setAttribute("id","popper-".concat(e.id())),l}}))},enabled:!0})}(n,this,t),function(e,t,n){var a=document.createElement("span");c.a.render(r.a.createElement(je.a,null),a),e.push({fillColor:"rgba(0, 200, 0, 0.75)",content:a.outerHTML,contentStyle:{},select:function(){var e=Object(j.a)(S.a.mark((function e(a){var o,i,s,l,u,d,m,p,f,h,v;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.outgoers("node"),e.next=3,U(n,a.data()._rawId);case 3:for(e.t0=function(e){return!o.filter((function(t){return t.data()._rawId===e._rawId})).length},i=e.sent.filter(e.t0),s=!0,l=!1,u=void 0,e.prev=8,d=i[Symbol.iterator]();!(s=(m=d.next()).done);s=!0)(p=m.value).Class=H(p);e.next=16;break;case 12:e.prev=12,e.t1=e.catch(8),l=!0,u=e.t1;case 16:e.prev=16,e.prev=17,s||null==d.return||d.return();case 19:if(e.prev=19,!l){e.next=22;break}throw u;case 22:return e.finish(19);case 23:return e.finish(16);case 24:f=[{dataField:"Body",text:"Body",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Class",text:"Class",sort:!0,filter:Object(oe.textFilter)()},{dataField:"Type",text:"Type",sort:!0,filter:Object(oe.textFilter)()}],h=new Set,v={mode:"checkbox",clickToSelect:!0,bgColor:"#00BFFF",onSelect:function(e,t){var n=document.getElementById("add");t?(h.add(e._rawId),n.classList.contains("disabled")&&n.classList.remove("disabled")):(h.delete(e._rawId),h.size||n.classList.add("disabled"))},onSelectAll:function(e,t){var n=document.getElementById("add");if(e){var a=!0,r=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var s=c.value;h.add(s._rawId),n.classList.remove("disabled")}}catch(l){r=!0,o=l}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}}else h.clear(),n.classList.add("disabled")}},q(a.id(),a.popper({content:function(){var e=document.createElement("div");return c.a.render(r.a.createElement(se.a,{className:"border-dark"},r.a.createElement(le.a,null,r.a.createElement(ue.a,{tag:"h5",className:"mw-100 mb-4",style:{minWidth:"50vw"}},"Add Orbiting Body"," ",r.a.createElement("small",{className:"text-muted"},"(",a.data().Body,")"),r.a.createElement(fe,{divKey:"popper-".concat(a.id()),popperKey:a.id()}),r.a.createElement(pe.a,{href:"#",className:"btn btn-success disabled float-right",id:"add",onClick:Object(j.a)(S.a.mark((function e(){var r,o,c,s,l,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=i.filter((function(e){return h.has(e._rawId)})),o=!0,c=!1,s=void 0,e.prev=4,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)delete u.value.Class;e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),c=!0,s=e.t0;case 12:e.prev=12,e.prev=13,o||null==l.return||l.return();case 15:if(e.prev=15,!c){e.next=18;break}throw s;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return V(a.id(),"popper-".concat(a.id())),e.next=23,W(n,a.id(),r);case 23:t.setElements();case 24:case"end":return e.stop()}}),e,null,[[4,8,12,20],[13,,15,19]])})))},r.a.createElement(je.a,null)," Add Selected")),r.a.createElement(de.a,{tag:"div",className:"mw-100"},i.length?r.a.createElement(re.a,{bootstrap4:!0,keyField:"_rawId",data:i,columns:f,hover:!0,condensed:!0,selectRow:v,filter:ce()()}):r.a.createElement("p",null,"No Orbiters Found.")))),e),document.getElementsByTagName("body")[0].appendChild(e),e.setAttribute("id","popper-".concat(a.id())),e}}));case 28:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})));return function(t){return e.apply(this,arguments)}}(),enabled:!0})}(n,this,t),n}},{key:"setElements",value:function(){var e=Object(j.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("sessionID"),e.next=3,A(t);case 3:n=e.sent,this.setState({elements:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cyReset",value:function(){var e=this.cy;e.reset();var t=e.$("node").length<=50;t&&e.layout(this.getOptions(t)).run()}},{key:"setHandlers",value:function(){var e=this.cy;e.on("mouseover","node",(function(){document.getElementById("cy").style.cursor="pointer"})),e.on("mouseout","node",(function(){document.getElementById("cy").style.cursor="default"})),e.on("select mouseover","edge",(function(e){e.target.style({width:4,"line-color":"#007bff","target-arrow-color":"#007bff"})})),e.on("unselect mouseout","edge",(function(e){var t=e.target;t.selected()||t.style({width:2,"line-color":"#ccc","target-arrow-color":"#ccc"})})),e.on("add","node",(function(e){var t=e.target;t.style("background-color",P[t.data()["obj-class"]]);var n=10*Math.log(50*(parseFloat(t.data()["Radius\u2009(R\u2295)"])||1));t.style("width","".concat(n,"px")),t.style("height","".concat(n,"px")),t.scratch("style",t.style())})),e.on("mouseover select","node",(function(e){e.target.style("background-color","#007bff")})),e.on("mouseout unselect","node",(function(e){var t=e.target;t.selected()||t.style("background-color",t.scratch("style")["background-color"])}))}},{key:"getOptions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{name:"breadthfirst",fit:e,directed:!0,padding:30,circle:!1,grid:!1,spacingFactor:1.75,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0,maximal:!0,animate:e,animationDuration:500,animateFilter:function(){return!0},transform:function(e,t){return t}}}},{key:"render",value:function(){var e=this,t=this.getOptions();return r.a.createElement("div",null,r.a.createElement(x.a,{className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(te,{canvas:this}),r.a.createElement(Z,{canvas:this}),r.a.createElement(he,{canvas:this}),r.a.createElement(Se,{sessionID:window.localStorage.getItem("sessionID")}))),r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement("div",{className:"border border-secondary rounded w-100",id:"cy-container"},r.a.createElement("div",{className:"m-1",id:"cy"},r.a.createElement(R.a,{cy:function(t){e.cy=t},style:{width:"100%",height:"100%"},stylesheet:Pe,layout:t,elements:R.a.normalizeElements(this.state.elements)}))))))}}]),t}(r.a.Component),_e=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggle=n.toggle.bind(Object(d.a)(n)),n.state={isOpen:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(f.a,{fluid:!0},r.a.createElement(h.a,{color:"inverse",light:!0,expand:"md",className:"border-bottom mb-2"},r.a.createElement(v.a,{href:"/",className:"text-wrap"},"CivicGraph Demo - A DIY Solar System",r.a.createElement("span",{className:"spinner-grow mx-2 text-danger invisible",role:"status",id:"loading"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement(b.a,{onClick:this.toggle}),r.a.createElement(y.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(w.a,{className:"ml-auto",navbar:!0},r.a.createElement(g.a,null,r.a.createElement(E.a,{href:"https://github.com/adityamukho/CivicGraph",target:"_blank"},r.a.createElement(p.a,null)))))),r.a.createElement(f.a,{fluid:!0},r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(De,null)))))}}]),t}(a.Component);n(131),n(132),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e){e.exports=JSON.parse('{"stars":"#ffff00","planets":"#f7a35c","dwarf_planets":"#90ee7e","moons":"#eeaaee","comets":"#aaeeee","asteroids":"#ff0066"}')},60:function(e){e.exports=JSON.parse('[{"selector":"*","style":{"color":"#fff"}},{"selector":"node.data","style":{"text-valign":"center","text-halign":"left"}},{"selector":"node[Body]","style":{"label":"data(Body)"}},{"selector":"edge","style":{"width":2,"line-color":"#ccc","text-rotation":"autorotate","text-margin-y":"-10px","curve-style":"straight","target-arrow-color":"#ccc","target-arrow-shape":"vee"}}]')},61:function(e,t,n){e.exports=n(133)}},[[61,1,2]]]);
//# sourceMappingURL=main.7232ae9f.chunk.js.map